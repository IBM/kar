ARG SDK_BASE=us.icr.io/research/kar-dev/sdk-nodejs-v12

FROM $SDK_BASE

# Example: actors-ykt
WORKDIR /kar/examples/actors-ykt
COPY actors-ykt/*.js actors-ykt/*.json ./
RUN npm install --prod

# Example: helloWorld
WORKDIR /kar/examples/helloWorld
COPY helloWorld/*.js helloWorld/*.json ./
RUN npm install --prod

# Example: unit-tests
WORKDIR /kar/examples/unit-tests
COPY unit-tests/*.js unit-tests/*.json ./
RUN npm install --prod

# Example: stockPriceEvents
WORKDIR /kar/examples/stockPriceEvents
COPY stockPriceEvents/*.js stockPriceEvents/*.json ./
RUN npm install --prod

WORKDIR /kar/examples

CMD node "$MAIN"
